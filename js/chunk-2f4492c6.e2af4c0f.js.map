{"version":3,"sources":["webpack:///./node_modules/workerize-loader/dist/rpc-wrapper.js","webpack:///./src/sudoku/worker.js","webpack:///./src/pages/Solve.vue?55a4","webpack:///src/pages/Solve.vue","webpack:///./src/pages/Solve.vue?6a27","webpack:///./src/pages/Solve.vue"],"names":["addMethods","worker","methods","c","callbacks","addEventListener","e","d","data","type","id","f","error","Object","assign","Error","message","result","evt","document","createEvent","initEvent","method","params","dispatchEvent","forEach","_arguments","arguments","Promise","a","b","postMessage","slice","call","module","exports","w","Worker","name","render","_vm","this","_h","$createElement","_c","_self","on","onSubmit","attrs","scopedSlots","_u","key","fn","ref","ariaDescribedby","model","value","solver","callback","$$v","$set","expression","_l","item","_v","_s","staticClass","isSolveLoading","isInvalid","isStepLoading","$event","step","staticStyle","actionDetails","staticRenderFns","components","store","solveWorker","props","beforeDestroy","terminate","created","sudoku","verify","computed","length","event","preventDefault","solve","component"],"mappings":"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U,CACRX,cADJ,WACA,MAYA,EAZA,OACM,OAAN,8CACehC,KAAKxB,OAAOD,QAC3B,6BACmC,IAAvByB,KAAKxB,OAAOoE,OAAqB,kBAC9B5C,KAAKxB,OACpB,KACA,cAAU,OACV,8CAEA,sBAAU,OAAV,eACA,aAEA,8CACA,mBACA,yDACA,oBAIEf,QAAS,CACP6C,SADJ,SACA,GACMuC,EAAMC,iBACN9C,KAAK+C,SAEP,KALJ,WAKA,4JACA,YADA,qDAEA,iBAFA,iDAGA,iBACA,yCACA,oBACA,qBAEA,mBACA,sBACA,cACA,gDACA,kBAEA,OADA,qCACA,KAEA,kBACA,kCACA,wBACA,YACA,UACA,+DAGA,kBACA,kBAEA,uBA3BA,8CA+BI,MApCJ,WAoCA,4JACA,YADA,qDAEA,gBAFA,iDAGA,kBACA,yCACA,oBACA,qBAEA,oBACA,sBACA,cACA,iDACA,kBACA,kCACA,wBACA,YACA,UACA,+DAGA,kBACA,kBAEA,wBAvBA,gDCxI+U,I,YCO3UC,EAAY,eACd,EACAlD,EACAmC,GACA,EACA,KACA,WACA,MAIa,aAAAe,E","file":"js/chunk-2f4492c6.e2af4c0f.js","sourcesContent":["function addMethods(worker, methods) {\n  var c = 0;\n  var callbacks = {};\n  worker.addEventListener('message', function (e) {\n    var d = e.data;\n    if (d.type !== 'RPC') return;\n\n    if (d.id) {\n      var f = callbacks[d.id];\n\n      if (f) {\n        delete callbacks[d.id];\n\n        if (d.error) {\n          f[1](Object.assign(Error(d.error.message), d.error));\n        } else {\n          f[0](d.result);\n        }\n      }\n    } else {\n      var evt = document.createEvent('Event');\n      evt.initEvent(d.method, false, false);\n      evt.data = d.params;\n      worker.dispatchEvent(evt);\n    }\n  });\n  methods.forEach(function (method) {\n    worker[method] = function () {\n      var _arguments = arguments;\n      return new Promise(function (a, b) {\n        var id = ++c;\n        callbacks[id] = [a, b];\n        worker.postMessage({\n          type: 'RPC',\n          id: id,\n          method: method,\n          params: [].slice.call(_arguments)\n        });\n      });\n    };\n  });\n}\n\nmodule.exports = addMethods;\n//# sourceMappingURL=rpc-wrapper.js.map\n","\n\t\t\t\tvar addMethods = require(\"../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"getProgress\",\"generate\",\"solve\",\"step\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"a43130cd8118d20507a1.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-form',{on:{\"submit\":_vm.onSubmit}},[_c('b-form-group',{attrs:{\"id\":\"input-group-1\",\"label\":\"Techniques:\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ariaDescribedby = ref.ariaDescribedby;\nreturn [_c('b-form-checkbox-group',{attrs:{\"id\":\"checkboxes-1\",\"aria-describedby\":ariaDescribedby},model:{value:(_vm.solver.EnabledTechniques),callback:function ($$v) {_vm.$set(_vm.solver, \"EnabledTechniques\", $$v)},expression:\"solver.EnabledTechniques\"}},_vm._l((_vm.solver.Techniques),function(item){return _c('b-form-checkbox',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)]}}])}),_c('b-button',{staticClass:\"m-1\",attrs:{\"disabled\":_vm.isSolveLoading || _vm.isInvalid,\"variant\":_vm.isStepLoading ? 'danger' : 'primary'},on:{\"click\":function($event){return _vm.step()}}},[_vm._v(_vm._s(_vm.isStepLoading ? \"Cancel\" : \"Step\"))]),_c('b-button',{staticClass:\"m-1\",attrs:{\"type\":\"submit\",\"id\":\"solve\",\"disabled\":_vm.isStepLoading || _vm.isInvalid,\"variant\":_vm.isSolveLoading ? 'danger' : 'primary'}},[_vm._v(_vm._s(_vm.isSolveLoading ? \"Cancel\" : \"Solve\"))]),_c('b-popover',{ref:\"popover\",attrs:{\"show\":_vm.isInvalid,\"disabled\":\"\",\"target\":\"solve\",\"title\":\"Invalid sudoku!\"}})],1),_c('b-card',{staticClass:\"mt-3\",attrs:{\"header\":\"Action Details\"}},[_c('div',{staticClass:\"m-0 text-monospace\",staticStyle:{\"white-space\":\"pre-line\"}},[_vm._v(\" \"+_vm._s(_vm.actionDetails)+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-form @submit=\"onSubmit\">\n      <b-form-group\n        id=\"input-group-1\"\n        label=\"Techniques:\"\n        v-slot=\"{ ariaDescribedby }\"\n      >\n        <b-form-checkbox-group\n          v-model=\"solver.EnabledTechniques\"\n          id=\"checkboxes-1\"\n          :aria-describedby=\"ariaDescribedby\"\n        >\n          <b-form-checkbox\n            :value=\"item.id\"\n            v-for=\"item in solver.Techniques\"\n            :key=\"item.id\"\n            >{{ item.name }}</b-form-checkbox\n          >\n        </b-form-checkbox-group>\n      </b-form-group>\n\n      <b-button\n        class=\"m-1\"\n        :disabled=\"isSolveLoading || isInvalid\"\n        :variant=\"isStepLoading ? 'danger' : 'primary'\"\n        @click=\"step()\"\n        >{{ isStepLoading ? \"Cancel\" : \"Step\" }}</b-button\n      >\n      <b-button\n        class=\"m-1\"\n        type=\"submit\"\n        id=\"solve\"\n        :disabled=\"isStepLoading || isInvalid\"\n        :variant=\"isSolveLoading ? 'danger' : 'primary'\"\n        >{{ isSolveLoading ? \"Cancel\" : \"Solve\" }}</b-button\n      >\n      <b-popover\n        :show=\"isInvalid\"\n        disabled\n        target=\"solve\"\n        title=\"Invalid sudoku!\"\n        ref=\"popover\"\n      ></b-popover>\n    </b-form>\n    <b-card class=\"mt-3\" header=\"Action Details\">\n      <div class=\"m-0 text-monospace\" style=\"white-space: pre-line\">\n        {{ actionDetails }}\n      </div>\n    </b-card>\n  </div>\n</template>\n\n<script>\nimport worker from \"workerize-loader!../sudoku/worker.js\";\nimport { Sudoku, Solver } from \"../sudoku/sudoku.js\";\nimport store from \"../store.js\";\n\nexport default {\n  name: \"Solve\",\n  components: {},\n  data() {\n    return {\n      store,\n      isStepLoading: false,\n      isSolveLoading: false,\n      solveWorker: null,\n      solver: new Solver(),\n      result: null,\n      isInvalid: false,\n    };\n  },\n  props: {},\n  beforeDestroy() {\n    if (this.solveWorker) this.solveWorker.terminate();\n  },\n  created() {\n    this.isInvalid = !this.store.sudoku.verify();\n  },\n  computed: {\n    actionDetails() {\n      if (this.result?.message) {\n        return this.result.message;\n      } else if (this.result instanceof Array) {\n        if (this.result.length === 0) return \"Nothing is done\";\n        return this.result\n          .map(\n            (itm, idx) =>\n              idx + 1 + \". \" + this.solver.getTechniqueById(itm).name\n          )\n          .reduce((acc, cur) => acc + \"\\n\" + cur, \"\")\n          .substring(1);\n      } else {\n        return this.result?.changed\n          ? \"Technique used: \" +\n              this.solver.getTechniqueById(this.result.technique).name\n          : \"Nothing is done\";\n      }\n    },\n  },\n  methods: {\n    onSubmit(event) {\n      event.preventDefault();\n      this.solve();\n    },\n    async step() {\n      if (this.isInvalid) return;\n      if (this.isSolveLoading) return;\n      if (this.isStepLoading) {\n        if (this.solveWorker) this.solveWorker.terminate();\n        this.isSolveLoading = false;\n        this.isStepLoading = false;\n      } else {\n        this.isStepLoading = true;\n        this.solveWorker = new worker();\n        this.solveWorker\n          .step(this.store.sudoku, this.solver.EnabledTechniques)\n          .then((res) => {\n            this.isInvalid = !this.store.sudoku.verify();\n            return res;\n          })\n          .then((res) => {\n            let sudoku = Sudoku.fromObject(res.sudoku);\n            this.isInvalid = !sudoku.verify();\n            if (this.isInvalid) {\n              this.result = {\n                message: \"Solver discovered that this sudoku has no solution\",\n              };\n            } else {\n              this.result = res.result;\n              this.store.sudoku = sudoku;\n            }\n            this.isStepLoading = false;\n          });\n      }\n    },\n    async solve() {\n      if (this.isInvalid) return;\n      if (this.isStepLoading) return;\n      if (this.isSolveLoading) {\n        if (this.solveWorker) this.solveWorker.terminate();\n        this.isSolveLoading = false;\n        this.isStepLoading = false;\n      } else {\n        this.isSolveLoading = true;\n        this.solveWorker = new worker();\n        this.solveWorker\n          .solve(this.store.sudoku, this.solver.EnabledTechniques)\n          .then((res) => {\n            let sudoku = Sudoku.fromObject(res.sudoku);\n            this.isInvalid = !sudoku.verify();\n            if (this.isInvalid) {\n              this.result = {\n                message: \"Solver discovered that this sudoku has no solution\",\n              };\n            } else {\n              this.result = res.result;\n              this.store.sudoku = sudoku;\n            }\n            this.isSolveLoading = false;\n          });\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Solve.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Solve.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Solve.vue?vue&type=template&id=c678a000&scoped=true&\"\nimport script from \"./Solve.vue?vue&type=script&lang=js&\"\nexport * from \"./Solve.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c678a000\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}